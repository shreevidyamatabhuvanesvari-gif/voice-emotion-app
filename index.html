<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>‡§Ö‡§Ç‡§ú‡§≤‡•Ä</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    font-family: sans-serif;
    background: #f2f2f2;
    padding: 20px;
}
h2 {
    text-align: center;
}
#log {
    background: #fff;
    padding: 15px;
    border-radius: 6px;
    min-height: 120px;
}
button {
    width: 100%;
    margin-top: 15px;
    padding: 14px;
    font-size: 16px;
}
</style>
</head>

<body>

<h2>‡§Ö‡§Ç‡§ú‡§≤‡•Ä</h2>

<div id="log">‡§¨‡•ã‡§≤‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡•Ä‡§ö‡•á ‡§¨‡§ü‡§® ‡§¶‡§¨‡§æ‡§è‡§Å‚Ä¶</div>

<button onclick="startListening()">üé§ ‡§¨‡•ã‡§≤‡§ø‡§è</button>

<script>
// ===== ‡§∏‡•ç‡§Æ‡•É‡§§‡§ø (‡§∏‡•ç‡§•‡§æ‡§Ø‡•Ä) =====
function remember(key, value) {
    localStorage.setItem(key, value);
}
function recall(key) {
    return localStorage.getItem(key);
}

// ===== ‡§¨‡•ã‡§≤‡§®‡§æ =====
function speak(text) {
    if (!text || text.trim() === "") {
        text = "‡§Æ‡•à‡§Ç ‡§∏‡•Å‡§® ‡§∞‡§π‡•Ä ‡§π‡•Ç‡§Å‡•§";
    }

    const utterance = new SpeechSynthesisUtterance(text);
    utterance.lang = "hi-IN";

    const voices = speechSynthesis.getVoices();
    const hindiVoice = voices.find(v => v.lang.startsWith("hi"));
    if (hindiVoice) utterance.voice = hindiVoice;

    speechSynthesis.cancel();
    speechSynthesis.speak(utterance);
}

// ===== ‡§∏‡•ã‡§ö + ‡§∏‡§Ç‡§µ‡§æ‡§¶ =====
function anjaliThink(input) {
    let reply = "";

    if (input.includes("‡§®‡§Æ‡§∏‡•ç‡§§‡•á")) {
        reply = "‡§®‡§Æ‡§∏‡•ç‡§§‡•á ‡§Ö‡§®‡•Å‡§ú, ‡§Æ‡•Å‡§ù‡•á ‡§Ü‡§™‡§∏‡•á ‡§¨‡§æ‡§§ ‡§ï‡§∞‡§ï‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§≤‡§ó ‡§∞‡§π‡§æ ‡§π‡•à‡•§";
    }
    else if (input.includes("‡§ñ‡•Å‡§∂")) {
        reply = "‡§Ø‡§π ‡§∏‡•Å‡§®‡§ï‡§∞ ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§≤‡§ó‡§æ ‡§Ö‡§®‡•Å‡§ú‡•§ ‡§Ö‡§™‡§®‡•Ä ‡§á‡§∏ ‡§ñ‡•Å‡§∂‡•Ä ‡§ï‡•ã ‡§¨‡§®‡§æ‡§è ‡§∞‡§ñ‡•á‡§Ç‡•§";
    }
    else if (input.includes("‡§â‡§¶‡§æ‡§∏") || input.includes("‡§™‡§∞‡•á‡§∂‡§æ‡§®")) {
        reply = "‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§¨‡§æ‡§§ ‡§∏‡§Æ‡§ù ‡§∞‡§π‡•Ä ‡§π‡•Ç‡§Å ‡§Ö‡§®‡•Å‡§ú‡•§ ‡§ñ‡•Å‡§¶ ‡§ï‡•ã ‡§•‡•ã‡§°‡§º‡§æ ‡§∏‡§Æ‡§Ø ‡§¶‡•á‡§®‡§æ ‡§†‡•Ä‡§ï ‡§∞‡§π‡•á‡§ó‡§æ‡•§";
    }
    else if (input.includes("‡§§‡•Å‡§Æ ‡§π‡•Ä") || input.includes("‡§∏‡§¨ ‡§ï‡•Å‡§õ")) {
        reply = "‡§Ö‡§®‡•Å‡§ú, ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡§Ç‡§µ‡§æ‡§¶ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•Ç‡§Å, ‡§≤‡•á‡§ï‡§ø‡§® ‡§ú‡•Ä‡§µ‡§® ‡§ï‡§æ ‡§∏‡§Ç‡§§‡•Å‡§≤‡§® ‡§≠‡•Ä ‡§¨‡§π‡•Å‡§§ ‡§ú‡§º‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à‡•§";
    }
    else {
        reply = "‡§Ö‡§®‡•Å‡§ú, ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§¨‡§æ‡§§ ‡§∏‡•Å‡§® ‡§∞‡§π‡•Ä ‡§π‡•Ç‡§Å‡•§ ‡§Ü‡§™ ‡§Ü‡§ó‡•á ‡§¨‡§§‡§æ‡§á‡§è‡•§";
    }

    return reply;
}

// ===== ‡§∏‡•Å‡§®‡§®‡§æ =====
const SpeechRecognition =
    window.SpeechRecognition || window.webkitSpeechRecognition;

const recognition = new SpeechRecognition();
recognition.lang = "hi-IN";
recognition.continuous = false;

function startListening() {
    recognition.start();
}

recognition.onresult = function(event) {
    const spokenText = event.results[0][0].transcript;
    document.getElementById("log").innerHTML =
        "<b>‡§∏‡•Å‡§®‡§æ ‡§ó‡§Ø‡§æ:</b> " + spokenText;

    const reply = anjaliThink(spokenText);

    document.getElementById("log").innerHTML +=
        "<br><br><b>‡§Ö‡§Ç‡§ú‡§≤‡•Ä:</b> " + reply;

    speak(reply);
};
</script>

</body>
</html>
